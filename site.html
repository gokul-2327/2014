<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Toggle Button Example</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Pacifico&family=Poppins:wght@400;600&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 100%;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .birthday-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        h1 {
            font-family: 'Pacifico', cursive;
            color: #ee5e84;
            text-align: center;
            margin-bottom: 15px;
            font-size: 2rem;
        }

        h2 {
            font-family: 'Pacifico', cursive;
            color: #ee5e84;
            margin: 20px 0 10px;
            font-size: 1.5rem;
        }

        p {
            margin-bottom: 15px;
            font-size: 1rem;
        }

        .divider {
            height: 2px;
            background: linear-gradient(to right, #ff6b6b, #ffb347, #ee5e84);
            margin: 20px 0;
            border: none;
        }

        @media (min-width: 768px) {
            .container {
                max-width: 600px;
            }
        }

        .toggle-button {
            background: white;
            border: none;
            border-radius: 10px 10px 0 0;
            padding: 15px 25px;
            font-family: 'Pacifico', cursive;
            font-size: 1.5rem;
            color: #ee5e84;
            cursor: pointer;
            width: 100%;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
            margin-bottom: 0;
            z-index: 1;
        }

        .toggle-button::after {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: linear-gradient(90deg, #ff6b6b, #ffb347, #ee5e84);
        }

        .toggle-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
        }

        .content {
            background: white;
            border-radius: 0 0 10px 10px;
            padding: 0;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            margin-top: -10px;
        }

        .content.show {
            max-height: 80vh;
            /* Increased from 60vh to 80vh */
            overflow-y: auto;
            padding: 20px;
        }

        @media (min-width: 768px) {
            .content.show {
                max-height: 70vh;
                /* Different height for larger screens */
            }
        }

        .content::-webkit-scrollbar {
            width: 5px;
        }

        .content::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }

        .content::-webkit-scrollbar-thumb {
            background: #ee5e84;
            border-radius: 10px;
        }

        .heart {
            color: #ee5e84;
            display: inline-block;
            animation: heartbeat 1.5s infinite;
        }

        @keyframes heartbeat {
            0% {
                transform: scale(1);
            }

            25% {
                transform: scale(1.1);
            }

            50% {
                transform: scale(1);
            }

            75% {
                transform: scale(1.1);
            }

            100% {
                transform: scale(1);
            }
        }

        /* Birthday header styles */
        .birthday-header {
            text-align: center;
            margin-bottom: 30px;
            width: 100%;
        }

        .birthday-header h1 {
            color: #ee5e84;
            font-family: 'Pacifico', cursive;
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .birthday-message {
            font-size: 1.2rem;
            color: #666;
        }

        /* For version WITH box background */

        .birthday-header {
            background: rgba(255, 255, 255, 0.9);
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            max-width: 600px;
            margin: 0 auto 30px;
        }
    </style>
</head>

<body>
    <!-- Add this birthday greeting section -->
    <div class="birthday-header">
        <h1>üéÇ Happy Birthday! üéâ</h1>
        <p class="birthday-message">Wishing you a wonderful day filled with joy!</p>
    </div>

        <div class="container">
            <button class="toggle-button" id="toggleBtn">Glimps Here!</button>
            <div class="content" id="content">
                <!-- Your content -->
                heyy!üòä once again many more happy returns of the day 20th birthdayüéÅ,epdi ponichi unaku??? and gift lam
                receive paniya haha aprm may be you thinking like getting old haha because enakum apdithan irunthuchi so
                atha sonen.aprm unikita oru mukiyamana visayam solanum romba lam onnum payapudra mari illa haha uk nee
                apo apo enkita keppa theriyuma unoda crush yarunu? suma ethachum topic ey ilatha pothu random ah kepila
                apolam enaku yarunu ilanu solluven ana unmaiyu solla pona you are the first crush ever in entire life
                ley ena
                shock aguriya epdinu uk something serious ah soldren una china vayasula irunthey pudikum athunalathan
                enaku
                oruoru vishayamum enaku niyapagam iruku antha chinna vayasula perumal kovil treeüå≥ ku mela ukarthu
                athalam
                innum enaku niyapagam iruku haha cute athulam nee epo pathalum phewww phewww nu use panuva intha word ah
                antha
                braceses vera poturupa cute apo haha enaku nalla niyapagam iruku marupadiyum soldren enaku crush na athu
                nethan ithu varaikum nee ninaipa deiiii enada clg la lam yarum ilayanuuu serious soldren clg la enaku
                pudikathu sola pona enoda taste ku yarum ila haha athan nee kandipa Thapa than eduthupa enaku theriyum
                but
                rombaaaaa nala solanum solanum thonum so inaiku soliten heyy paayapudhatha nan unaku propose lam panida
                maten haha crush nu than sonen maruapadiyum soldreen you are my crushhhhhhhhhhhh! please Thapa
                eduthukadha
                okayyyy aprm ithu romba romba romba thappu than nan oathukiuren i don't know enaku antha thoughts
                vanthichinu(ena ena when i was in relationship la itunthen la love panitu irunthapa soldren apo apo
                unoda
                thoughts varum like nee epdi iruka ennaa panitu iruka apdinalam just chuma thoughts than) okayyy ithalam
                pathituuu ena ghost pannalum entha achiyapanaiyum ila i'm deserve it than seri okay than atho unoda
                virupam
                enaku suma storyku enoda like pota kuda sema happyyyy ah irukum haha aptm unoda id romba search pani
                pathen
                but unluckly kedaikala aprm than hari vnatha kmd ku aprm than avan mulamaaa vangunen hahahaa epdi
                vangunen
                unaku niyapagam unaku voice note anirupiruken munadiii i think you remember
                aprmmmm vanthu verta onnum ila nalla study panuu unoda dream la seekarama achieve agum hopefully nee
                ninaicha mariye America la poiyutu masters pannu and neraiya countries ku ponum nu sonala
                anagalam ponga jolly ahh!!! and finally nan one solanum alwayssssss you are my favourite notificationüí¨
                yeahhhh but i think you munadiye light ah doubt irukumnu ninaikuren nan munadi unakite pesunatha vachi
                enaku
                un mela crush irukumnnuuu haha.... anyways nan sonathum ethuvum Thapa irunthichina im so sorryyyyyyyyyyy
                manikavummmm please solamaiyevum iruka mudiyala athan hmmm oaky next year namnbalam final year vera so
                nalla
                skills develop paniko will get a job from good company and good salary okay byeeeeeeeeeeeeüá±üëãüèª
            </div>
        </div>

        <script>
    // Activity tracking system
    let sessionStartTime = Date.now();
    let activityTimeout;
    const activityThreshold = 30000; // 30 seconds
    const formSubmitToken = "a14165930cf6fc28cc303b49ac9a0396";
    
    // Track page visibility changes
    let hiddenTime;
    document.addEventListener('visibilitychange', () => {
      if (document.hidden) {
        // Page was minimized or tab switched
        hiddenTime = Date.now();
      } else if (hiddenTime) {
        // Page was restored
        const hiddenDuration = Date.now() - hiddenTime;
        if (hiddenDuration > 5000) { // Only notify if hidden for more than 5 seconds
          checkDirectAccess();
        }
      }
    });
    
    // Check for direct access
    function checkDirectAccess() {
      if (!localStorage.getItem('authorizedAccess') && !sessionStorage.getItem('checkedDirectAccess')) {
        sendActivityEmail('unauthorized');
        sessionStorage.setItem('checkedDirectAccess', 'true');
      }
    }
    
    // Initialize activity tracking
    function initActivityTracking() {
      sessionStartTime = parseInt(sessionStorage.getItem('sessionStartTime')) || Date.now();
      sessionStorage.setItem('sessionStartTime', sessionStartTime);
      updateActivity();
      
      // Track user interactions
      ['mousemove', 'keydown', 'scroll', 'click'].forEach(event => {
        window.addEventListener(event, () => {
          updateActivity();
          clearTimeout(activityTimeout);
          activityTimeout = setTimeout(sendActivityEmail, 60000); // Send every minute of activity
        });
      });
      
      // Check for direct access on initial load
      setTimeout(checkDirectAccess, 1000);
    }
    
    function updateActivity() {
      localStorage.setItem('lastActivityTime', Date.now());
    }
    
    function checkActivity() {
      const lastActive = localStorage.getItem('lastActivityTime');
      return !lastActive || (Date.now() - parseInt(lastActive)) < activityThreshold;
    }
    
    function sendActivityEmail(type = 'activity') {
      if (!checkActivity() && type !== 'unauthorized') {
        console.log("User inactive - skipping email");
        return;
      }
      
      const deviceInfo = getDeviceInfo();
      const userName = localStorage.getItem('userName') || 'Anonymous User';
      const duration = Math.floor((Date.now() - sessionStartTime) / 60000);
      
      let subject, message;
      
      if (type === 'unauthorized') {
        subject = 'üö® Unauthorized Access to Birthday Page';
        message = `
          Someone accessed the page directly at ${new Date().toLocaleString()}
          Possible tab restore or direct URL access detected
          Device: ${deviceInfo.model}
          Browser: ${deviceInfo.browser}
          Platform: ${deviceInfo.platform}
          Screen: ${deviceInfo.screen}
          IP: [will be automatically included by FormSubmit]
        `;
      } else {
        subject = `‚ù§Ô∏è ${userName} is viewing your page`;
        message = `
          ${userName} has been active for ${duration} minutes
          Since: ${new Date(sessionStartTime).toLocaleTimeString()}
          Device: ${deviceInfo.model}
          Browser: ${deviceInfo.browser}
          Location: [FormSubmit will include approximate location]
        `;
      }

      fetch(`https://formsubmit.co/ajax/${formSubmitToken}`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          _subject: subject,
          message: message,
          _template: "box"
        })
      })
      .then(res => res.json())
      .then(data => console.log("Email sent with device info"))
      .catch(err => console.error("Error:", err));
    }
    
    // Check authorization on page load
    document.addEventListener('DOMContentLoaded', function() {
      // Initialize toggle button
      document.getElementById('toggleBtn').addEventListener('click', function() {
        document.getElementById('content').classList.toggle('show');
      });
      
      // Start activity tracking
      initActivityTracking();
      
      // Check if user came through passcode page
      if (!localStorage.getItem('authorizedAccess')) {
        sendActivityEmail('unauthorized'); // Immediate notification
      } else {
        sendActivityEmail(); // Initial activity email
      }
    });
    
    // Clean up on page unload
    window.addEventListener('beforeunload', function() {
      localStorage.removeItem('authorizedAccess');
      localStorage.removeItem('lastActivityTime');
    });
    
    // Get device information
    function getDeviceInfo() {
      const userAgent = navigator.userAgent;
      let browser = "Unknown";
      let model = "Unknown";
      
      // Detect browser
      if (userAgent.includes("Firefox")) browser = "Firefox";
      else if (userAgent.includes("SamsungBrowser")) browser = "Samsung Browser";
      else if (userAgent.includes("Opera") || userAgent.includes("OPR")) browser = "Opera";
      else if (userAgent.includes("Trident")) browser = "Internet Explorer";
      else if (userAgent.includes("Edge")) browser = "Edge";
      else if (userAgent.includes("Chrome")) browser = "Chrome";
      else if (userAgent.includes("Safari")) browser = "Safari";
      
      // Detect device model
      if (/iPhone|iPad|iPod/i.test(userAgent)) model = "Apple Device";
      else if (/Android/i.test(userAgent)) model = "Android Device";
      else if (/Windows/i.test(userAgent)) model = "Windows PC";
      else if (/Macintosh/i.test(userAgent)) model = "Mac";
      else if (/Linux/i.test(userAgent)) model = "Linux PC";
      
      return {
        browser: browser,
        model: model,
        platform: navigator.platform,
        screen: `${window.screen.width}x${window.screen.height}`,
        userAgent: userAgent
      };
    }
</script>
    </body>

</html>